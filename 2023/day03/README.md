```python
import os
os.getcwd()

with open('example.txt', 'r') as f:
    example = [line.strip() for line in f.readlines()]

# split to get array of array or list of list (look like a matrix)
example_matrix = [list(line) for line in example]

example_matrix

```




    [['4', '6', '7', '.', '.', '1', '1', '4', '.', '.'],
     ['.', '.', '.', '*', '.', '.', '.', '.', '.', '.'],
     ['.', '.', '3', '5', '.', '.', '6', '3', '3', '.'],
     ['.', '.', '.', '.', '.', '.', '#', '.', '.', '.'],
     ['6', '1', '7', '*', '.', '.', '.', '.', '.', '.'],
     ['.', '.', '.', '.', '.', '+', '.', '5', '8', '.'],
     ['.', '.', '5', '9', '2', '.', '.', '.', '.', '.'],
     ['.', '.', '.', '.', '.', '.', '7', '5', '5', '.'],
     ['.', '.', '.', '$', '.', '*', '.', '.', '.', '.'],
     ['.', '6', '6', '4', '.', '5', '9', '8', '.', '.']]




```python
example_matrix[1][3]
```




    '*'




```python
# default dict vs dict.setdefault()

from collections import defaultdict # handle unknown missing keys whereas dict.setdefault must specify what missing key is
```


```python
dic = defaultdict(set)

# example wanted result: dic = {'*': {467, 35}, '#': {633}}
dic
```




    defaultdict(set, {})




```python
x = [[1, 2, 3], [1, 2, 3], [1, 2, 3]]
x[5:6][1:3]

# So, always access x[i:i+1], if you want x[i]. You'll get a list with the required element if it exists. Otherwise, you get an empty list
# rmb: slicing results in the same list but reduced elements. for example: x = [1,2,3], x[1:2] = [2], instead of just 2
# if just index only => value (not a list like slicing)
# dont know if fast? but it works
```




    []




```python
example_matrix
```




    [['4', '6', '7', '.', '.', '1', '1', '4', '.', '.'],
     ['.', '.', '.', '*', '.', '.', '.', '.', '.', '.'],
     ['.', '.', '3', '5', '.', '.', '6', '3', '3', '.'],
     ['.', '.', '.', '.', '.', '.', '#', '.', '.', '.'],
     ['6', '1', '7', '*', '.', '.', '.', '.', '.', '.'],
     ['.', '.', '.', '.', '.', '+', '.', '5', '8', '.'],
     ['.', '.', '5', '9', '2', '.', '.', '.', '.', '.'],
     ['.', '.', '.', '.', '.', '.', '7', '5', '5', '.'],
     ['.', '.', '.', '$', '.', '*', '.', '.', '.', '.'],
     ['.', '6', '6', '4', '.', '5', '9', '8', '.', '.']]




```python
len_row = len(example_matrix[0])
len_col = len(example_matrix)

def get_number_in_that_row(j, idx, row):

    numbers_string_list = []

    j1, j2 = j, j
    while j1 >= 0 and row[j1-1+idx].isdigit(): 
        numbers_string_list.insert(0, row[j1-1+idx])
        j1 -= 1

    while j2+1 < len_row and row[j2+idx].isdigit():
        numbers_string_list.append(row[j2+idx])
        j2 += 1

    number_integer = ''.join(numbers_string_list)

    return number_integer


def filter_slider(i, j):
    # slicing index instead of exact index

    all_numbers_list = []

    if i > 0:
        ups = example_matrix[i-1][max(j-1, 0):min(j+2, len_row)]
        for idx, up in enumerate(ups):
            all_up_row = example_matrix[i-1]
            if up.isdigit():
                number_integer = get_number_in_that_row(j, idx - (j - 1), all_up_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))


    mids = example_matrix[i][max(j-1, 0):min(j+2, len_row)]
    for idx, mid in enumerate(mids):
        all_mid_row = example_matrix[i]
        if mid.isdigit():
            number_integer = get_number_in_that_row(j, idx - (j - 1), all_mid_row)
            if number_integer.isdigit():
                all_numbers_list.append(int(number_integer))


    if i < len_col - 1:
        bots = example_matrix[i+1][max(j-1, 0):min(j+2, len_row)]
        for idx, bot in enumerate(bots):
            all_bot_row = example_matrix[i+1]
            if bot.isdigit():
                number_integer = get_number_in_that_row(j, idx - (j - 1), all_bot_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))

    print(all_numbers_list)
    return all_numbers_list


sum_dups = 0

for i, row in enumerate(example_matrix):
    for j, entry in enumerate(row):
        if not entry.isdigit() and entry != '.':
            print(entry)
            set_numbers_of_this_ij = filter_slider(i, j)
            sum_dups += sum(set_numbers_of_this_ij)
            

sum_dups
```

    *
    [467, 35]
    #
    [35, 35]
    *
    [617]
    +
    []
    $
    [664, 664]
    *
    [664, 664]
    




    3845




```python
len_row = len(example_matrix[0])
len_col = len(example_matrix)

def get_number_in_that_row(j, idx, row):
    numbers_string_list = []

    j1 = j + idx - 1
    while j1 >= 0 and row[j1].isdigit():
        numbers_string_list.insert(0, row[j1])
        j1 -= 1

    j2 = j + idx
    while j2 < len_row and row[j2].isdigit():
        numbers_string_list.append(row[j2])
        j2 += 1

    number_integer = ''.join(numbers_string_list)
    return number_integer

def filter_slider(i, j):
    all_numbers_list = []

    if i > 0:
        ups = example_matrix[i-1][max(j-1, 0):min(j+2, len_row)]
        for idx, up in enumerate(ups):
            all_up_row = example_matrix[i-1]
            if up.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_up_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))

    mids = example_matrix[i][max(j-1, 0):min(j+2, len_row)]
    for idx, mid in enumerate(mids):
        all_mid_row = example_matrix[i]
        if mid.isdigit():
            number_integer = get_number_in_that_row(j, idx - 1, all_mid_row)
            if number_integer.isdigit():
                all_numbers_list.append(int(number_integer))

    if i < len_col - 1:
        bots = example_matrix[i+1][max(j-1, 0):min(j+2, len_row)]
        for idx, bot in enumerate(bots):
            all_bot_row = example_matrix[i+1]
            if bot.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_bot_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))

    return all_numbers_list

sum_dups = 0

for i, row in enumerate(example_matrix):
    for j, entry in enumerate(row):
        if not entry.isdigit() and entry != '.':
            set_numbers_of_this_ij = filter_slider(i, j)
            sum_dups += sum(set(set_numbers_of_this_ij))

sum_dups

```




    4361




```python
import os
os.getcwd()

with open('input.txt', 'r') as f:
    inpt = [line.strip() for line in f.readlines()]

# split to get array of array or list of list (look like a matrix)
inpt = [list(line) for line in inpt]

```


```python

len_row = len(inpt[0])
len_col = len(inpt)

def get_number_in_that_row(j, idx, row):
    numbers_string_list = []

    j1 = j + idx - 1
    while j1 >= 0 and row[j1].isdigit():
        numbers_string_list.insert(0, row[j1])
        j1 -= 1

    j2 = j + idx
    while j2 < len_row and row[j2].isdigit():
        numbers_string_list.append(row[j2])
        j2 += 1

    number_integer = ''.join(numbers_string_list)
    return number_integer

def filter_slider(i, j):
    all_numbers_list = []

    if i > 0:
        ups = inpt[i-1][max(j-1, 0):min(j+2, len_row)]
        for idx, up in enumerate(ups):
            all_up_row = inpt[i-1]
            if up.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_up_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))
            

    mids = inpt[i][max(j-1, 0):min(j+2, len_row)]
    for idx, mid in enumerate(mids):
        all_mid_row = inpt[i]
        if mid.isdigit():
            number_integer = get_number_in_that_row(j, idx - 1, all_mid_row)
            if number_integer.isdigit():
                all_numbers_list.append(int(number_integer))


    if i < len_col - 1:
        bots = inpt[i+1][max(j-1, 0):min(j+2, len_row)]
        for idx, bot in enumerate(bots):
            all_bot_row = inpt[i+1]
            if bot.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_bot_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))
    print(all_numbers_list)
    return all_numbers_list

sum_dups = 0

for i, row in enumerate(inpt):
    for j, entry in enumerate(row):
        if not entry.isdigit() and not entry == '.':
            print(entry)
            set_numbers_of_this_ij = filter_slider(i, j)
            sum_dups += sum(set(set_numbers_of_this_ij))

sum_dups

```

    *
    [897, 897, 847, 847]
    *
    [404, 541]
    *
    [651, 399]
    =
    [508]
    *
    [343, 343, 95]
    *
    [986, 793, 793]
    *
    [308, 325]
    -
    [105, 105]
    *
    [134, 134, 42]
    %
    [412, 412]
    *
    [392, 392, 392, 663]
    &
    [350, 350]
    @
    [403, 403]
    $
    [622]
    *
    [356, 356, 356, 817, 817, 817]
    *
    [830, 62]
    *
    [163, 163, 373]
    /
    [244]
    *
    [745, 745, 745]
    *
    [785, 785, 797, 797]
    $
    [443, 443]
    *
    [922, 429, 429, 429]
    *
    [696, 189]
    =
    [119]
    *
    [683, 18]
    %
    [726]
    *
    [956, 756]
    /
    [803]
    *
    [945, 610]
    =
    [496, 496, 496]
    -
    [395]
    *
    [871, 871, 929]
    @
    [353, 353, 353]
    +
    [76]
    $
    [227]
    &
    [626, 626]
    *
    [9, 47, 47]
    *
    [793, 964]
    *
    [182, 129]
    *
    [372, 372, 6]
    -
    [673]
    *
    [680, 680]
    *
    [759, 356]
    +
    [746]
    +
    [789]
    $
    [367]
    @
    [330, 330, 330]
    *
    [271, 271, 354]
    *
    [523, 448]
    &
    [241, 241]
    *
    [590, 590, 802]
    *
    [136, 136, 550, 550]
    $
    [641]
    *
    [567, 315]
    *
    [397, 397, 887, 887]
    -
    [483, 483, 483]
    *
    [869, 869, 869, 277]
    /
    [488, 488, 488]
    *
    [920, 800, 800]
    *
    [354, 464]
    +
    [652]
    *
    [986, 589]
    *
    [995, 995, 596]
    *
    [66, 521]
    *
    [863, 863, 908]
    *
    [936, 936, 936, 610, 610]
    &
    [434]
    %
    [384, 384]
    *
    [533, 533, 978, 978]
    -
    [947, 947]
    *
    [20, 20, 571]
    @
    [704, 704]
    *
    [918, 1]
    *
    [827, 101]
    *
    [373, 993]
    *
    [785, 260]
    @
    [941]
    +
    [466, 466]
    =
    [897]
    #
    [73]
    %
    [122]
    *
    [938, 992]
    *
    [698, 698, 305]
    /
    [614, 614]
    +
    [681]
    %
    [164]
    *
    [734, 734, 431, 431]
    $
    [104, 104]
    @
    [335, 335]
    *
    [739, 739, 161, 161]
    =
    [588]
    -
    [920]
    *
    [558, 44]
    *
    [818, 542]
    *
    [847, 847, 847, 708, 708]
    &
    [879, 879, 879]
    *
    [51, 715]
    *
    [624, 997]
    *
    [210, 686]
    *
    [238, 236]
    /
    [706, 706]
    *
    [723, 183, 183, 183]
    *
    [55, 990]
    @
    [424]
    &
    [842, 842]
    #
    [545]
    @
    [975, 975, 975]
    -
    [906, 906]
    *
    [437, 204, 204]
    &
    [990]
    *
    [51, 212]
    +
    [208, 208]
    *
    [801, 202]
    *
    [702, 702]
    %
    [380]
    /
    [494]
    /
    [976]
    *
    [856, 856]
    @
    [878]
    &
    [708]
    *
    [287, 404]
    -
    [553]
    *
    [266, 707, 707, 707]
    *
    [920, 247]
    @
    [567, 567, 567]
    %
    [144, 144]
    *
    [423, 423, 431]
    *
    [731, 731, 731]
    -
    [751, 751, 751]
    #
    [649, 649, 649]
    %
    [48, 48]
    *
    [817, 817, 817, 887]
    %
    [536, 536]
    *
    [274, 274, 274, 447]
    &
    [816, 816]
    &
    [663]
    *
    [974, 251, 251]
    -
    [446]
    @
    [306]
    @
    [793, 793, 793]
    $
    [540]
    *
    [860, 860, 586, 586, 586]
    @
    [266, 266, 266]
    $
    [673]
    @
    [885, 885]
    /
    [65]
    *
    [822, 822, 822, 157]
    @
    [529, 529]
    $
    [480, 480]
    +
    [60, 60]
    *
    [413, 122, 122, 122]
    *
    [313, 313, 963]
    *
    [840, 824, 824]
    *
    [950, 172, 172, 172]
    +
    [373, 373, 373]
    $
    [182]
    #
    [739]
    *
    [765, 831]
    *
    [633, 119, 119, 119]
    -
    [976]
    *
    [867, 867]
    +
    [438]
    @
    [179, 179]
    /
    [685, 685]
    =
    [480, 480]
    &
    [747, 747]
    *
    [317, 674]
    =
    [125]
    *
    [262, 578, 578]
    -
    [549]
    /
    [815, 815]
    @
    [74]
    *
    [952, 374]
    *
    [356, 356, 695, 695, 695]
    *
    [273, 273, 126, 126, 126]
    *
    [561, 561, 561, 697]
    *
    [192, 192, 806, 806]
    *
    [319, 163, 163]
    =
    [637, 637]
    *
    [941, 941]
    *
    [744]
    $
    [800]
    *
    [652, 54]
    -
    [181]
    *
    [873, 646]
    #
    [310, 310]
    *
    [792]
    @
    [770, 770]
    /
    [269]
    #
    [884]
    *
    [421, 995]
    +
    [211, 211]
    /
    [48]
    =
    [878]
    /
    [518]
    *
    [771, 771, 247]
    *
    [968, 17]
    %
    [581]
    /
    [843]
    %
    [559, 559, 559]
    *
    [904, 873]
    *
    [636, 522]
    -
    [630, 630]
    %
    [471]
    *
    [138, 125]
    *
    [829, 439]
    *
    [119, 687]
    *
    [211, 681]
    *
    [480, 321]
    *
    [130, 10]
    $
    [792, 792]
    *
    [659, 826]
    =
    [564]
    +
    [291, 291, 291]
    *
    [616, 616, 976, 976]
    @
    [641]
    *
    [818, 818, 852, 852]
    *
    [858, 858, 330]
    @
    [158, 158, 158]
    *
    [109, 503, 503]
    *
    [331, 331, 335]
    @
    [29]
    /
    [546, 546, 546]
    $
    [965]
    +
    [335]
    *
    [217, 808]
    *
    [802, 802, 802, 421]
    *
    [212, 395, 395]
    &
    [423]
    =
    [607, 607]
    #
    [630]
    -
    [901, 901, 901]
    *
    [247, 247, 59, 59]
    -
    [618]
    #
    [803, 803, 803]
    *
    [289, 789]
    @
    [502, 502, 502]
    *
    [923, 923, 762, 762]
    *
    [664, 388, 388, 388]
    $
    [747]
    *
    [277]
    %
    [625, 625]
    *
    [646, 646, 738, 738]
    *
    [99, 99, 406]
    *
    [517, 517, 517, 915, 915]
    *
    [222]
    *
    [315, 61]
    $
    [79, 79]
    *
    [189, 189, 979]
    /
    [505]
    +
    [223, 223, 223]
    *
    [202, 265]
    *
    [462, 462, 837]
    &
    [133, 133, 133]
    /
    [963, 963]
    #
    [310, 310]
    =
    [970]
    *
    [716, 716, 716, 198]
    *
    [741, 486]
    *
    [362, 256, 256, 256]
    /
    [117, 117]
    %
    [96, 96]
    *
    [256, 733]
    -
    [942, 942]
    $
    [983, 983]
    *
    [725, 725, 525]
    *
    [930, 418]
    *
    [189]
    +
    [731, 731]
    *
    [267, 267, 267, 547, 547]
    =
    [873]
    *
    [447, 59]
    /
    [447, 447, 447]
    *
    [219, 219, 219, 737]
    *
    [439, 439, 439, 375, 375, 375]
    *
    [187, 187, 195]
    *
    [495, 495, 707, 707]
    $
    [119]
    *
    [327, 147]
    *
    [300, 300, 300, 22]
    -
    [702]
    @
    [840]
    *
    [40, 485]
    #
    [907]
    %
    [6]
    *
    [17, 17, 787, 787]
    #
    [470]
    *
    [9, 403]
    *
    [594, 594, 816]
    *
    [81, 81, 811, 811]
    -
    [104, 104, 104]
    *
    [446, 528]
    #
    [154, 154, 154]
    $
    [569]
    *
    [935, 868]
    *
    [998, 606]
    *
    [209, 209, 216, 216, 216]
    /
    [10]
    -
    [6]
    *
    [923, 923, 923, 53]
    *
    [907, 907, 751]
    %
    [346]
    *
    [361, 361, 727]
    *
    [383, 383, 383]
    *
    [368, 818]
    #
    [237, 237, 237]
    *
    [600, 708, 708]
    @
    [850]
    *
    [869, 869, 289]
    *
    [98, 431]
    *
    [550, 705]
    @
    [688]
    *
    [913, 913, 913, 458]
    *
    [420, 420]
    +
    [883]
    *
    [150, 50]
    *
    [668, 144]
    $
    [32]
    $
    [279]
    /
    [274, 274]
    *
    [698, 698, 698, 589]
    @
    [107]
    *
    [501, 501, 501, 342, 342]
    *
    [562, 586]
    *
    [170, 302]
    *
    [504, 504, 931]
    -
    [26]
    &
    [185, 185]
    &
    [470, 470]
    +
    [551]
    &
    [510]
    -
    [649]
    $
    [788]
    *
    [243, 137]
    @
    [72]
    *
    [286, 690]
    *
    [575, 320]
    *
    [793, 553]
    *
    [602, 602, 451, 451]
    *
    [818, 377]
    *
    [443, 372]
    #
    [611, 611, 611]
    -
    [934, 934]
    /
    [952]
    *
    [200, 200, 200, 393, 393]
    *
    [936, 936, 936]
    *
    [708]
    &
    [498, 498, 498]
    *
    [697, 7]
    *
    [305, 138]
    %
    [700, 700]
    *
    [675, 6]
    %
    [391, 391, 391]
    *
    [162, 562]
    %
    [120, 120]
    *
    [220, 608]
    *
    [74, 568]
    *
    [957, 957, 193, 193]
    =
    [186]
    *
    [624, 984]
    #
    [244]
    +
    [553]
    *
    [872, 739, 739, 739]
    $
    [682]
    &
    [927]
    &
    [69, 69]
    /
    [880, 880]
    *
    [768]
    *
    [379, 910, 910]
    *
    [933, 933]
    *
    [880, 40]
    +
    [465]
    *
    [141]
    =
    [334, 334]
    +
    [785]
    %
    [682, 682]
    *
    [940, 734]
    #
    [573]
    *
    [248, 499, 499, 499]
    *
    [80, 523, 523, 523]
    @
    [163]
    %
    [17]
    *
    [323, 108]
    *
    [172, 172, 172, 305, 305]
    $
    [706, 706]
    *
    [506, 506, 506, 942, 942, 942]
    /
    [843]
    +
    [568]
    %
    [378]
    #
    [285]
    *
    [130, 130, 544, 544, 544]
    -
    [974]
    *
    [42, 517, 517]
    *
    [700, 480, 480]
    *
    [289, 289]
    *
    [861, 861, 861, 391]
    *
    [573, 859]
    *
    [173, 173, 214]
    %
    [228]
    *
    [522, 270]
    &
    [274]
    +
    [756, 756, 756]
    /
    [762, 762, 762]
    -
    [628, 628, 628]
    =
    [332, 332, 332]
    /
    [318]
    *
    [155, 150]
    &
    [180]
    *
    [123]
    &
    [926, 926]
    -
    [125]
    @
    [230, 230, 230]
    %
    [482]
    *
    [884, 884, 884, 387]
    =
    [384]
    @
    [12]
    =
    [885, 885, 885]
    *
    [827]
    *
    [310, 310, 310, 449]
    &
    [400]
    *
    [856, 154]
    @
    [98]
    *
    [161, 161, 161, 560, 560]
    $
    [884]
    *
    [283, 283, 279, 279]
    &
    [17]
    *
    [309, 880, 880]
    $
    [643]
    #
    [866]
    /
    [862, 862, 862]
    *
    [210, 210, 210, 349, 349, 349]
    %
    [226, 226]
    *
    [622, 312, 312]
    *
    [901, 901, 266]
    /
    [574, 574]
    =
    [462]
    *
    [273, 273, 273, 770, 770]
    +
    [451, 451, 451]
    *
    [896, 122, 122]
    *
    [661, 661, 661]
    *
    [632, 811, 811]
    *
    [93, 621]
    =
    [249, 249]
    /
    [430, 430, 430]
    *
    [448, 766]
    +
    [111, 111, 111]
    $
    [252, 252]
    $
    [267]
    %
    [990, 990]
    @
    [780, 780, 780]
    +
    [713]
    *
    [441, 441, 592, 592]
    /
    [672]
    /
    [256]
    *
    [524, 417]
    $
    [930]
    *
    [556, 556, 780, 780]
    -
    [336, 336]
    *
    [897]
    *
    [950, 950, 950, 645]
    =
    [652, 652]
    $
    [759, 759, 759]
    *
    [868, 868, 868, 77, 77]
    %
    [97, 97]
    +
    [988, 988, 988]
    *
    [613, 613, 821, 821]
    =
    [882, 882]
    &
    [977, 977]
    *
    [401, 609, 609]
    #
    [742, 742]
    *
    [939, 939]
    *
    [195, 930]
    *
    [636, 797]
    +
    [473, 473]
    &
    [195]
    &
    [914, 914]
    -
    [640, 640]
    *
    [872, 9]
    &
    [951]
    /
    [310]
    *
    [79, 827]
    -
    [14]
    *
    [150, 150, 840]
    *
    [274, 504]
    -
    [128, 128]
    *
    [56, 549]
    $
    [13]
    *
    [751, 751, 751, 123, 123, 123]
    /
    [164]
    -
    [321]
    -
    [378, 378, 378]
    *
    [291, 478]
    *
    [204]
    *
    [714, 148]
    @
    [989]
    *
    [157, 157, 233]
    *
    [670]
    &
    [817]
    @
    [514]
    *
    [631, 631, 671]
    *
    [516, 205]
    *
    [838, 823]
    *
    [951, 343]
    -
    [954]
    $
    [577, 577]
    &
    [377, 377]
    *
    [816, 779, 779]
    @
    [187]
    *
    [490]
    *
    [110, 148, 148, 148]
    $
    [99]
    /
    [552]
    /
    [768, 768]
    *
    [166, 214]
    =
    [867, 867]
    *
    [408, 829]
    #
    [1]
    *
    [806, 251]
    *
    [120, 120, 211, 211]
    *
    [893, 403]
    *
    [452, 452, 702]
    $
    [870]
    @
    [75]
    *
    [977, 977, 977]
    *
    [562, 562, 368, 368, 368]
    @
    [826]
    *
    [267, 29]
    +
    [476, 476, 476]
    #
    [834]
    *
    [211, 211, 507]
    +
    [248, 248]
    $
    [861]
    =
    [912, 912]
    =
    [44, 44]
    *
    [721, 690]
    *
    [867, 432, 432]
    #
    [497]
    -
    [87]
    $
    [659]
    @
    [855, 855, 855]
    @
    [943, 943, 943]
    *
    [231, 639, 639]
    *
    [894, 756]
    *
    [968]
    *
    [214, 428]
    *
    [332, 332, 260, 260]
    +
    [803, 803]
    *
    [26, 26, 161]
    -
    [299, 299]
    =
    [639]
    *
    [440, 802]
    %
    [538, 538]
    -
    [647, 647]
    #
    [953, 953]
    *
    [224]
    &
    [58, 58]
    *
    [261, 261, 944, 944, 944]
    $
    [245]
    %
    [644, 644]
    /
    [303, 303, 303]
    *
    [305, 305, 908, 908]
    *
    [345, 345, 480, 480]
    *
    [612, 612, 58]
    %
    [185, 185]
    @
    [373, 373, 373]
    *
    [683, 93]
    /
    [201]
    $
    [249]
    *
    [799, 548]
    =
    [209]
    *
    [28, 802]
    *
    [242, 97]
    /
    [169, 169]
    -
    [904]
    +
    [3]
    #
    [789]
    @
    [932]
    *
    [997, 805, 805]
    *
    [748, 965]
    $
    [796, 796]
    #
    [372]
    %
    [61]
    *
    [915, 73, 73]
    &
    [280, 280, 280]
    &
    [880]
    /
    [222]
    *
    [922, 922, 144]
    *
    [451, 950]
    /
    [958]
    %
    [945]
    &
    [979, 979]
    /
    [910, 910, 910]
    *
    [436, 436, 396]
    =
    [298, 298]
    -
    [571]
    %
    [679, 679, 679]
    +
    [901, 901]
    *
    [592, 149]
    *
    [820, 511]
    &
    [861]
    *
    [264, 936]
    -
    [619, 619, 619]
    -
    [748]
    *
    [907, 907, 907, 785, 785, 785]
    @
    [26]
    *
    [50, 270]
    =
    [640]
    @
    [483]
    $
    [216]
    %
    [625]
    %
    [527]
    #
    [744, 744]
    =
    [933]
    =
    [766]
    *
    [268, 909]
    #
    [860, 860, 860]
    #
    [181, 181]
    *
    [747, 747, 311, 311]
    +
    [85]
    *
    [49, 49, 947, 947]
    %
    [352, 352]
    *
    [714]
    *
    [53, 236, 236]
    +
    [430]
    %
    [999]
    *
    [134, 713]
    *
    [783, 871, 871]
    *
    [765, 765, 765]
    *
    [897, 897, 377, 377]
    *
    [869, 678, 678]
    @
    [544]
    &
    [121]
    /
    [45, 45]
    *
    [752, 752, 259, 259, 259]
    *
    [959, 225]
    #
    [177, 177]
    %
    [332, 332]
    *
    [236, 236]
    *
    [528, 528, 306, 306]
    $
    [530, 530, 530]
    *
    [629, 786]
    &
    [598, 598, 598]
    *
    [930, 930, 850, 850]
    *
    [912, 598]
    $
    [323, 323, 323]
    *
    [542, 542, 372, 372]
    *
    [197]
    *
    [681, 410]
    *
    [470, 470, 152, 152, 152]
    *
    [250, 768]
    *
    [3, 131]
    *
    [904, 648]
    =
    [996, 996]
    =
    [115]
    @
    [507]
    =
    [678]
    *
    [303, 337]
    +
    [258]
    /
    [362, 362, 362]
    *
    [164, 164, 772, 772, 772]
    $
    [636]
    /
    [573, 573]
    =
    [518]
    *
    [746, 746, 144]
    @
    [117, 117]
    *
    [952, 240, 240, 240]
    #
    [922]
    =
    [45, 45]
    *
    [597, 479, 479]
    *
    [37, 126, 126]
    *
    [351, 783, 783]
    *
    [281, 843, 843, 843]
    +
    [814, 814]
    *
    [687, 986, 986]
    +
    [611]
    *
    [153, 117]
    &
    [293]
    -
    [784]
    @
    [251]
    *
    [396, 396]
    *
    [918, 258]
    $
    [597]
    *
    [542]
    *
    [578, 578, 259]
    %
    [707, 707, 707]
    &
    [984, 984]
    $
    [650]
    *
    [409, 684]
    /
    [421, 421]
    /
    [996]
    /
    [489, 489]
    *
    [931, 931, 188, 188, 188]
    *
    [356, 356, 356, 909]
    *
    [63, 911]
    *
    [489, 489, 489, 535]
    %
    [798, 798, 798]
    *
    [302, 578]
    @
    [804]
    +
    [531, 531]
    *
    [385, 385, 385, 426]
    $
    [633, 633]
    *
    [175, 439]
    *
    [98, 364, 364, 364]
    %
    [149, 149]
    +
    [226, 226]
    *
    [617, 202]
    -
    [929]
    %
    [796, 796]
    +
    [693]
    &
    [23]
    *
    [563, 772]
    $
    [844]
    @
    [332]
    &
    [347, 347]
    *
    [425, 425, 425, 425, 425]
    +
    [14]
    -
    [481, 481]
    *
    [232, 667]
    *
    [7, 236]
    *
    [788, 788, 788, 195]
    #
    [222, 222]
    +
    [294]
    *
    [506, 757, 757]
    *
    [566, 972]
    =
    [631]
    *
    [408, 710, 710]
    *
    [706, 706, 706]
    &
    [604]
    *
    [435, 435, 435]
    &
    [204, 204]
    *
    [477, 714]
    *
    [9, 544]
    *
    [865, 395]
    *
    [344, 344, 344, 119, 119]
    +
    [439, 439]
    /
    [626, 626]
    *
    [542, 47]
    *
    [368, 368, 816, 816, 816]
    @
    [229, 229, 229]
    @
    [596, 596]
    &
    [202, 202]
    *
    [165, 967, 967]
    *
    [147]
    =
    [42]
    +
    [653, 653]
    *
    [262, 147]
    @
    [466]
    *
    [690, 690, 690, 444]
    *
    [467, 467, 467, 527]
    *
    [724, 888]
    /
    [806]
    @
    [237]
    *
    [383, 383, 518]
    #
    [750, 750]
    +
    [628, 628, 628]
    *
    [351, 749]
    *
    [914, 914, 852]
    *
    [279, 279, 354, 354, 354]
    #
    [138]
    *
    [480, 480, 833, 833]
    *
    [84, 84, 964]
    *
    [976, 211]
    =
    [578]
    *
    [225, 986, 986]
    




    555197




```python
555197 - 556057
```




    -860




```python
len_row = len(inpt[0])
len_col = len(inpt)

def get_number_in_that_row(j, idx, row):
    numbers_string_list = []

    j1 = j + idx - 1
    while j1 >= 0 and row[j1].isdigit():
        numbers_string_list.insert(0, row[j1])
        j1 -= 1

    j2 = j + idx
    while j2 < len_row and row[j2].isdigit():
        numbers_string_list.append(row[j2])
        j2 += 1

    number_integer = ''.join(numbers_string_list)
    return number_integer

def filter_slider(i, j):
    all_numbers_list = []

    if i > 0:
        ups = inpt[i-1][max(j-1, 0):min(j+2, len_row)]
        for idx, up in enumerate(ups):
            all_up_row = inpt[i-1]
            if up.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_up_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))
            

    mids = inpt[i][max(j-1, 0):min(j+2, len_row)]
    for idx, mid in enumerate(mids):
        all_mid_row = inpt[i]
        if mid.isdigit():
            number_integer = get_number_in_that_row(j, idx - 1, all_mid_row)
            if number_integer.isdigit():
                all_numbers_list.append(int(number_integer))


    if i < len_col - 1:
        bots = inpt[i+1][max(j-1, 0):min(j+2, len_row)]
        for idx, bot in enumerate(bots):
            all_bot_row = inpt[i+1]
            if bot.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_bot_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))

    return all_numbers_list

sum_dups = 0

for i, row in enumerate(inpt):
    for j, entry in enumerate(row):
        if not entry.isdigit() and not entry == '.':
            set_numbers_of_this_ij = filter_slider(i, j)
            sum_dups += sum(set(set_numbers_of_this_ij))

sum_dups

```




    555197



example try


```python
import os
os.getcwd()

with open('input.txt', 'r') as f:
    inpt = [line.strip() for line in f.readlines()]

# split to get array of array or list of list (look like a matrix)
inpt = [list(line) for line in inpt]

```


```python
len_row = len(inpt[0])
len_col = len(inpt)

def get_number_in_that_row(j, idx, row):
    numbers_string_list = []

    j1 = j + idx - 1
    while j1 >= 0 and row[j1].isdigit():
        numbers_string_list.insert(0, row[j1])
        j1 -= 1

    j2 = j + idx
    while j2 < len_row and row[j2].isdigit():
        numbers_string_list.append(row[j2])
        j2 += 1

    number_integer = ''.join(numbers_string_list)
    return number_integer

def filter_slider(i, j):
    all_numbers_list = []

    if i > 0:
        ups_start = max(j-1, 0)
        ups_end = min(j+2, len_row)
        ups = list(inpt[i-1][ups_start:ups_end])  # Convert to list to modify elements
        for idx, up in enumerate(ups):
            all_up_row = inpt[i-1]
            if up.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_up_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))
                    for k in range(len(number_integer)):
                        if 0 <= idx - 1 + k < len(ups):
                            ups[idx - 1 + k] = '.'

    mids_start = max(j-1, 0)
    mids_end = min(j+2, len_row)
    mids = list(inpt[i][mids_start:mids_end])  # Convert to list to modify elements
    for idx, mid in enumerate(mids):
        all_mid_row = inpt[i]
        if mid.isdigit():
            number_integer = get_number_in_that_row(j, idx - 1, all_mid_row)
            if number_integer.isdigit():
                all_numbers_list.append(int(number_integer))
                for k in range(len(number_integer)):
                    if 0 <= idx - 1 + k < len(mids):
                        mids[idx - 1 + k] = '.'

    if i < len_col - 1:
        bots_start = max(j-1, 0)
        bots_end = min(j+2, len_row)
        bots = list(inpt[i+1][bots_start:bots_end])  # Convert to list to modify elements
        for idx, bot in enumerate(bots):
            all_bot_row = inpt[i+1]
            if bot.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_bot_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))
                    for k in range(len(number_integer)):
                        if 0 <= idx - 1 + k < len(bots):
                            bots[idx - 1 + k] = '.'

    print(all_numbers_list)
    return all_numbers_list

sum_dups = 0

for i, row in enumerate(inpt):
    for j, entry in enumerate(row):
        if not entry.isdigit() and not entry == '.':
            set_numbers_of_this_ij = filter_slider(i, j)
            sum_dups += sum(set(set_numbers_of_this_ij))

sum_dups

```

    [897, 847]
    [404, 541]
    [651, 399]
    [508]
    [343, 95]
    [986, 793]
    [308, 325]
    [105]
    [134, 42]
    [412]
    [392, 392, 663]
    [350]
    [403]
    [622]
    [356, 356, 817, 817]
    [830, 62]
    [163, 373]
    [244]
    [745, 745]
    [785, 797]
    [443]
    [922, 429, 429]
    [696, 189]
    [119]
    [683, 18]
    [726]
    [956, 756]
    [803]
    [945, 610]
    [496, 496]
    [395]
    [871, 929]
    [353, 353]
    [76]
    [227]
    [626]
    [9, 47, 47]
    [793, 964]
    [182, 129]
    [372, 6]
    [673]
    [680]
    [759, 356]
    [746]
    [789]
    [367]
    [330, 330]
    [271, 354]
    [523, 448]
    [241]
    [590, 802]
    [136, 550]
    [641]
    [567, 315]
    [397, 887]
    [483, 483]
    [869, 869, 277]
    [488, 488]
    [920, 800]
    [354, 464]
    [652]
    [986, 589]
    [995, 596]
    [66, 521]
    [863, 908]
    [936, 936, 610]
    [434]
    [384]
    [533, 978]
    [947]
    [20, 20, 571]
    [704]
    [918, 1]
    [827, 101]
    [373, 993]
    [785, 260]
    [941]
    [466]
    [897]
    [73]
    [122]
    [938, 992]
    [698, 305]
    [614]
    [681]
    [164]
    [734, 431]
    [104]
    [335]
    [739, 161]
    [588]
    [920]
    [558, 44]
    [818, 542]
    [847, 847, 708]
    [879, 879]
    [51, 715]
    [624, 997]
    [210, 686]
    [238, 236]
    [706]
    [723, 183, 183]
    [55, 990]
    [424]
    [842]
    [545]
    [975, 975]
    [906]
    [437, 204]
    [990]
    [51, 212]
    [208]
    [801, 202]
    [702]
    [380]
    [494]
    [976]
    [856]
    [878]
    [708]
    [287, 404]
    [553]
    [266, 707, 707]
    [920, 247]
    [567, 567]
    [144]
    [423, 431]
    [731, 731]
    [751, 751]
    [649, 649]
    [48, 48]
    [817, 817, 887]
    [536]
    [274, 274, 447]
    [816]
    [663]
    [974, 251]
    [446]
    [306]
    [793, 793]
    [540]
    [860, 586, 586]
    [266, 266]
    [673]
    [885]
    [65]
    [822, 822, 157]
    [529]
    [480]
    [60, 60]
    [413, 122, 122]
    [313, 963]
    [840, 824]
    [950, 172, 172]
    [373, 373]
    [182]
    [739]
    [765, 831]
    [633, 119, 119]
    [976]
    [867]
    [438]
    [179]
    [685]
    [480]
    [747]
    [317, 674]
    [125]
    [262, 578]
    [549]
    [815]
    [74]
    [952, 374]
    [356, 695, 695]
    [273, 126, 126]
    [561, 561, 697]
    [192, 806]
    [319, 163]
    [637]
    [941]
    [744]
    [800]
    [652, 54]
    [181]
    [873, 646]
    [310]
    [792]
    [770]
    [269]
    [884]
    [421, 995]
    [211]
    [48]
    [878]
    [518]
    [771, 247]
    [968, 17]
    [581]
    [843]
    [559, 559]
    [904, 873]
    [636, 522]
    [630]
    [471]
    [138, 125]
    [829, 439]
    [119, 687]
    [211, 681]
    [480, 321]
    [130, 10]
    [792]
    [659, 826]
    [564]
    [291, 291]
    [616, 976]
    [641]
    [818, 852]
    [858, 330]
    [158, 158]
    [109, 503]
    [331, 335]
    [29]
    [546, 546]
    [965]
    [335]
    [217, 808]
    [802, 802, 421]
    [212, 395]
    [423]
    [607]
    [630]
    [901, 901]
    [247, 59, 59]
    [618]
    [803, 803]
    [289, 789]
    [502, 502]
    [923, 762]
    [664, 388, 388]
    [747]
    [277]
    [625]
    [646, 738]
    [99, 99, 406]
    [517, 517, 915]
    [222]
    [315, 61]
    [79, 79]
    [189, 979]
    [505]
    [223, 223]
    [202, 265]
    [462, 837]
    [133, 133]
    [963]
    [310]
    [970]
    [716, 716, 198]
    [741, 486]
    [362, 256, 256]
    [117]
    [96, 96]
    [256, 733]
    [942]
    [983]
    [725, 525]
    [930, 418]
    [189]
    [731]
    [267, 267, 547]
    [873]
    [447, 59]
    [447, 447]
    [219, 219, 737]
    [439, 439, 375, 375]
    [187, 195]
    [495, 707]
    [119]
    [327, 147]
    [300, 300, 22]
    [702]
    [840]
    [40, 485]
    [907]
    [6]
    [17, 17, 787]
    [470]
    [9, 403]
    [594, 816]
    [81, 81, 811]
    [104, 104]
    [446, 528]
    [154, 154]
    [569]
    [935, 868]
    [998, 606]
    [209, 216, 216]
    [10]
    [6]
    [923, 923, 53]
    [907, 751]
    [346]
    [361, 727]
    [383, 383]
    [368, 818]
    [237, 237]
    [600, 708]
    [850]
    [869, 289]
    [98, 431]
    [550, 705]
    [688]
    [913, 913, 458]
    [420]
    [883]
    [150, 50]
    [668, 144]
    [32]
    [279]
    [274]
    [698, 698, 589]
    [107]
    [501, 501, 342]
    [562, 586]
    [170, 302]
    [504, 931]
    [26]
    [185]
    [470]
    [551]
    [510]
    [649]
    [788]
    [243, 137]
    [72]
    [286, 690]
    [575, 320]
    [793, 553]
    [602, 451]
    [818, 377]
    [443, 372]
    [611, 611]
    [934]
    [952]
    [200, 200, 393]
    [936, 936]
    [708]
    [498, 498]
    [697, 7]
    [305, 138]
    [700]
    [675, 6]
    [391, 391]
    [162, 562]
    [120]
    [220, 608]
    [74, 568]
    [957, 193]
    [186]
    [624, 984]
    [244]
    [553]
    [872, 739, 739]
    [682]
    [927]
    [69, 69]
    [880]
    [768]
    [379, 910]
    [933]
    [880, 40]
    [465]
    [141]
    [334]
    [785]
    [682]
    [940, 734]
    [573]
    [248, 499, 499]
    [80, 523, 523]
    [163]
    [17]
    [323, 108]
    [172, 172, 305]
    [706]
    [506, 506, 942, 942]
    [843]
    [568]
    [378]
    [285]
    [130, 544, 544]
    [974]
    [42, 517]
    [700, 480]
    [289]
    [861, 861, 391]
    [573, 859]
    [173, 214]
    [228]
    [522, 270]
    [274]
    [756, 756]
    [762, 762]
    [628, 628]
    [332, 332]
    [318]
    [155, 150]
    [180]
    [123]
    [926]
    [125]
    [230, 230]
    [482]
    [884, 884, 387]
    [384]
    [12]
    [885, 885]
    [827]
    [310, 310, 449]
    [400]
    [856, 154]
    [98]
    [161, 161, 560]
    [884]
    [283, 279]
    [17]
    [309, 880]
    [643]
    [866]
    [862, 862]
    [210, 210, 349, 349]
    [226]
    [622, 312]
    [901, 266]
    [574]
    [462]
    [273, 273, 770]
    [451, 451]
    [896, 122]
    [661, 661]
    [632, 811]
    [93, 621]
    [249]
    [430, 430]
    [448, 766]
    [111, 111]
    [252]
    [267]
    [990]
    [780, 780]
    [713]
    [441, 592]
    [672]
    [256]
    [524, 417]
    [930]
    [556, 780]
    [336]
    [897]
    [950, 950, 645]
    [652]
    [759, 759]
    [868, 868, 77, 77]
    [97, 97]
    [988, 988]
    [613, 821]
    [882]
    [977]
    [401, 609]
    [742]
    [939]
    [195, 930]
    [636, 797]
    [473]
    [195]
    [914]
    [640]
    [872, 9]
    [951]
    [310]
    [79, 827]
    [14]
    [150, 840]
    [274, 504]
    [128]
    [56, 549]
    [13]
    [751, 751, 123, 123]
    [164]
    [321]
    [378, 378]
    [291, 478]
    [204]
    [714, 148]
    [989]
    [157, 233]
    [670]
    [817]
    [514]
    [631, 671]
    [516, 205]
    [838, 823]
    [951, 343]
    [954]
    [577]
    [377]
    [816, 779]
    [187]
    [490]
    [110, 148, 148]
    [99]
    [552]
    [768]
    [166, 214]
    [867]
    [408, 829]
    [1]
    [806, 251]
    [120, 211]
    [893, 403]
    [452, 702]
    [870]
    [75]
    [977, 977]
    [562, 368, 368]
    [826]
    [267, 29]
    [476, 476]
    [834]
    [211, 507]
    [248]
    [861]
    [912]
    [44, 44]
    [721, 690]
    [867, 432]
    [497]
    [87]
    [659]
    [855, 855]
    [943, 943]
    [231, 639]
    [894, 756]
    [968]
    [214, 428]
    [332, 260]
    [803]
    [26, 26, 161]
    [299]
    [639]
    [440, 802]
    [538]
    [647]
    [953]
    [224]
    [58, 58]
    [261, 944, 944]
    [245]
    [644]
    [303, 303]
    [305, 908]
    [345, 480]
    [612, 58]
    [185]
    [373, 373]
    [683, 93]
    [201]
    [249]
    [799, 548]
    [209]
    [28, 802]
    [242, 97]
    [169]
    [904]
    [3]
    [789]
    [932]
    [997, 805]
    [748, 965]
    [796]
    [372]
    [61]
    [915, 73, 73]
    [280, 280]
    [880]
    [222]
    [922, 144]
    [451, 950]
    [958]
    [945]
    [979]
    [910, 910]
    [436, 396]
    [298]
    [571]
    [679, 679]
    [901]
    [592, 149]
    [820, 511]
    [861]
    [264, 936]
    [619, 619]
    [748]
    [907, 907, 785, 785]
    [26]
    [50, 270]
    [640]
    [483]
    [216]
    [625]
    [527]
    [744]
    [933]
    [766]
    [268, 909]
    [860, 860]
    [181]
    [747, 311]
    [85]
    [49, 49, 947]
    [352]
    [714]
    [53, 236]
    [430]
    [999]
    [134, 713]
    [783, 871]
    [765, 765]
    [897, 377]
    [869, 678]
    [544]
    [121]
    [45, 45]
    [752, 259, 259]
    [959, 225]
    [177]
    [332]
    [236]
    [528, 306]
    [530, 530]
    [629, 786]
    [598, 598]
    [930, 850]
    [912, 598]
    [323, 323]
    [542, 372]
    [197]
    [681, 410]
    [470, 152, 152]
    [250, 768]
    [3, 131]
    [904, 648]
    [996]
    [115]
    [507]
    [678]
    [303, 337]
    [258]
    [362, 362]
    [164, 772, 772]
    [636]
    [573]
    [518]
    [746, 144]
    [117]
    [952, 240, 240]
    [922]
    [45, 45]
    [597, 479]
    [37, 126]
    [351, 783]
    [281, 843, 843]
    [814]
    [687, 986]
    [611]
    [153, 117]
    [293]
    [784]
    [251]
    [396]
    [918, 258]
    [597]
    [542]
    [578, 259]
    [707, 707]
    [984]
    [650]
    [409, 684]
    [421]
    [996]
    [489]
    [931, 188, 188]
    [356, 356, 909]
    [63, 911]
    [489, 489, 535]
    [798, 798]
    [302, 578]
    [804]
    [531]
    [385, 385, 426]
    [633]
    [175, 439]
    [98, 364, 364]
    [149]
    [226]
    [617, 202]
    [929]
    [796]
    [693]
    [23]
    [563, 772]
    [844]
    [332]
    [347]
    [425, 425, 425]
    [14]
    [481]
    [232, 667]
    [7, 236]
    [788, 788, 195]
    [222]
    [294]
    [506, 757]
    [566, 972]
    [631]
    [408, 710]
    [706, 706]
    [604]
    [435, 435]
    [204]
    [477, 714]
    [9, 544]
    [865, 395]
    [344, 344, 119]
    [439]
    [626]
    [542, 47]
    [368, 816, 816]
    [229, 229]
    [596]
    [202]
    [165, 967]
    [147]
    [42]
    [653]
    [262, 147]
    [466]
    [690, 690, 444]
    [467, 467, 527]
    [724, 888]
    [806]
    [237]
    [383, 518]
    [750]
    [628, 628]
    [351, 749]
    [914, 852]
    [279, 354, 354]
    [138]
    [480, 833]
    [84, 84, 964]
    [976, 211]
    [578]
    [225, 986]
    




    555197



part 2


```python
# example first
import math

len_row = len(example_matrix[0])
len_col = len(example_matrix)

def get_number_in_that_row(j, idx, row):
    numbers_string_list = []

    j1 = j + idx - 1
    while j1 >= 0 and row[j1].isdigit():
        numbers_string_list.insert(0, row[j1])
        j1 -= 1

    j2 = j + idx
    while j2 < len_row and row[j2].isdigit():
        numbers_string_list.append(row[j2])
        j2 += 1

    number_integer = ''.join(numbers_string_list)
    return number_integer

def filter_slider(i, j):
    all_numbers_list = []

    if i > 0:
        ups = example_matrix[i-1][max(j-1, 0):min(j+2, len_row)]
        for idx, up in enumerate(ups):
            all_up_row = example_matrix[i-1]
            if up.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_up_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))

    mids = example_matrix[i][max(j-1, 0):min(j+2, len_row)]
    for idx, mid in enumerate(mids):
        all_mid_row = example_matrix[i]
        if mid.isdigit():
            number_integer = get_number_in_that_row(j, idx - 1, all_mid_row)
            if number_integer.isdigit():
                all_numbers_list.append(int(number_integer))

    if i < len_col - 1:
        bots = example_matrix[i+1][max(j-1, 0):min(j+2, len_row)]
        for idx, bot in enumerate(bots):
            all_bot_row = example_matrix[i+1]
            if bot.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_bot_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))

    return all_numbers_list

sum_dups = 0

for i, row in enumerate(example_matrix):
    for j, entry in enumerate(row):
        if entry == "*":
            set_numbers_of_this_ij = filter_slider(i, j)
            if len(set(set_numbers_of_this_ij)) == 2:
                sum_dups += math.prod(set(set_numbers_of_this_ij))

sum_dups

```




    467835




```python

len_row = len(inpt[0])
len_col = len(inpt)

def get_number_in_that_row(j, idx, row):
    numbers_string_list = []

    j1 = j + idx - 1
    while j1 >= 0 and row[j1].isdigit():
        numbers_string_list.insert(0, row[j1])
        j1 -= 1

    j2 = j + idx
    while j2 < len_row and row[j2].isdigit():
        numbers_string_list.append(row[j2])
        j2 += 1

    number_integer = ''.join(numbers_string_list)
    return number_integer

def filter_slider(i, j):
    all_numbers_list = []

    if i > 0:
        ups = inpt[i-1][max(j-1, 0):min(j+2, len_row-1)]
        for idx, up in enumerate(ups):
            all_up_row = inpt[i-1]
            if up.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_up_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))
                break

    mids = inpt[i][max(j-1, 0):min(j+2, len_row-1)]
    for idx, mid in enumerate(mids):
        all_mid_row = inpt[i]
        if mid.isdigit():
            number_integer = get_number_in_that_row(j, idx - 1, all_mid_row)
            if number_integer.isdigit():
                all_numbers_list.append(int(number_integer))
            break

    if i < len_col - 1:
        bots = inpt[i+1][max(j-1, 0):min(j+2, len_row-1)]
        for idx, bot in enumerate(bots):
            all_bot_row = inpt[i+1]
            if bot.isdigit():
                number_integer = get_number_in_that_row(j, idx - 1, all_bot_row)
                if number_integer.isdigit():
                    all_numbers_list.append(int(number_integer))
                break

    return all_numbers_list

sum_dups = 0

for i, row in enumerate(inpt):
    for j, entry in enumerate(row):
        if not entry.isdigit() and not entry == '.':
            set_numbers_of_this_ij = filter_slider(i, j)
            if len(set(set_numbers_of_this_ij)) == 2:
                sum_dups += math.prod(set(set_numbers_of_this_ij))

sum_dups

```




    69192889




```python
69192889 - 82824352
```




    -13631463




```python
import re
from typing import List, Tuple

# Open the file and read the lines into a list
lines: List[str] = open("./input.txt").read().splitlines()


def is_symbol(char: str) -> bool:
    """
    Checks if a character is a symbol.

    Parameters:
    char (str): The character to check.

    Returns:
    bool: True if the character is a symbol, False otherwise.
    """
    return char != "." and not char.isdigit()


def get_parts() -> List[List[Tuple[int, int, int]]]:
    """
    Extracts the parts from the lines.

    Returns:
    List[List[Tuple[int, int, int]]]: A list of parts for each line.
    """
    parts: List[List[Tuple[int, int, int]]] = []
    for i, line in enumerate(lines):
        parts.append([])

        # Find all numbers in the line
        for match in re.finditer(r"\d+", line):
            start_index = match.start(0) - 1
            end_index = match.end(0)
            number = int(match.group(0))
            part = (start_index, end_index, number)
            parts[i].append(part)

    return parts


count = 0
parts: List[List[Tuple[int, int, int]]] = get_parts()

for i, line in enumerate(lines):
    for j, char in enumerate(line):
        if char != "*":
            continue

        adjacent_parts: List[int] = []

        # Loop over the line above, the current line, and the line below
        for k in range(-1, 2):
            # Check if the line exists
            if i + k < 0 or i + k > len(lines):
                continue

            # Loop over each part in the line
            for start_index, end_index, number in parts[i + k]:
                if start_index <= j <= end_index:
                    adjacent_parts.append(number)

        # If there are two adjacent parts, multiply them and add to the count
        if len(adjacent_parts) == 2:
            count += adjacent_parts[0] * adjacent_parts[1]

print(count)
```

    82824352
    
